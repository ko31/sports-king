!function(t){t(document).ready(function(){t("#adds-submit").click(function(a){if(a.preventDefault(),t(this).attr("disabled"))return!1;if(window.confirm("保存してよろしいですか？ この変更はすぐに反映されます。")){var n=[],i=[];if(t(".adds-editor__line").each(function(a,i){var e=[];t(i).find(".adds-editor__wrap").each(function(a,n){switch(t(n).attr("data-type")){case"link":var i={};t(n).find(".adds-editor__input").each(function(a,n){var e=t(n).val();t(n).attr("name");i[t(n).attr("name")]=e}),e.push(i)}}),n.push(e)}),i.length)window.alert(i.join("\n"));else{var e=t(this);t(this).attr("disabled",!0),t.post(t(this).attr("data-endpoint"),{data:n}).done(function(t){window.alert(t.message)}).fail(function(t){window.alert(t.responseJSON?t.responseJSON.message:"保存に失敗しました。")}).always(function(){e.attr("disabled",!1)})}}})})}(jQuery);